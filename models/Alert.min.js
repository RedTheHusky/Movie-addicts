class Alert{constructor(options={}){if(!(typeof options==='object')){options={}};function uuidv4(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16)})}
this.root={id:'',dom:'',jquery:''};this.modal={id:'',dom:'',jquery:''};this.modal.id="alert_"+uuidv4();this.loaded={css:!0,js:!0};this.content=`<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
		<div class="alert-body">Some text</div>`;if(options.root){this.root.id=options.root;if(this.root.id){this.root.dom=document.getElementById(this.root.id);this.root.jquery=$('#'+this.root.id)}
if(options.addModal2Root){this.addAlert2Root(options.addModal2Root)}}
if(options.add2Head){this.add2Head(options.add2Head)}
if(options.loadMode&&(options.loadMode==="n"||options.loadMode===0)){this.loaded.css=!1;this.loaded.js=!1}
if(options.content){this.content=options.content}}
add2Head(options={}){if(!(typeof options==='object')){options={}};let loadMode='a';if(options.loadMode){loadMode=options.loadMode}
let me=this;if(options.loadMode&&(options.loadMode==="n"||options.loadMode===0)){this.loaded.css=!0;this.loaded.js=!0}else if(options.loadMode&&(options.loadMode==="h"||options.loadMode===4)){this.loaded.css=!1;this.loaded.js=!1}
if(loadMode==='a'||loadMode==='c'||loadMode===1||loadMode===3){var css=document.createElement("link");css.href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css";css.setAttribute("rel","stylesheet");document.head.appendChild(css);if(css.addEventListener){css.addEventListener('load',function(){me.loaded.css=!0;if(options.callback&&me.loaded.js){options.callback()}},!1)}}
if(loadMode==='a'||loadMode==='s'||loadMode===1||loadMode===2){var script=document.createElement("script");script.src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js";document.head.appendChild(script);if(script.addEventListener){script.addEventListener('load',function(){me.loaded.js=!0;if(options.callback&&me.loaded.css){options.callback()}},!1)}}}
addAlert2Root(options={}){if(!(typeof options==='object')){options={}};if(options.root){this.root.id=options.root;if(this.root.id){this.root.dom=document.getElementById(this.root.id);this.root.jquery=$('#'+this.root.id)}}
if($('#'+this.modal.id)[0]){console.warn("already exists");return!1}
if(this.root.dom&&this.isElement(this.root.dom)){this.modal.dom=document.createElement("div");this.modal.dom.classList.add("alert");this.modal.dom.classList.add("alert-info");this.modal.dom.classList.add("fade");this.modal.dom.classList.add("in");this.modal.dom.setAttribute("id",this.modal.id);this.modal.dom.setAttribute("role","alert");this.modal.dom.setAttribute("style","display:none");this.modal.dom.innerHTML=this.content;this.root.dom.appendChild(this.modal.dom);this.modal.jquery=$('#'+this.modal.id);this.alertType="info"}else{console.warn('Dom element does not exists')}}
removeModal4Root(){if(this.modal.dom){this.modal.dom.innerHTML="";this.modal.dom.parentNode.removeChild(this.modal.dom);this.modal.dom="";this.modal.jquery=""}}
setElement(options=[]){if(!(typeof options==='object')){options=[]};if(!this.modal.dom){console.warn('No modal to select');return}
let me=this;options.forEach(function(option,index){if(option==="show"){me.show()}else if(option==="hide"){me.hide()}else if(option==="toggle"){me.toggle()}else if(!option.selector){console.warn('No selector for: ',index)}else if(!me.root.dom.querySelector(option.selector)){console.warn('No element for: ',index)}else{if(option.task==="inner"){me.modal.dom.querySelector(option.selector).innerHTML=option.value}else if(option.task==="attribute-add"){me.modal.dom.querySelector(option.selector).setAttribute(option.name,option.value)}else if(option.task==="attribute-remove"){me.modal.dom.querySelector(option.selector).removeAttribute(option.name)}else if(option.task==="class-add"){me.modal.dom.querySelector(option.selector).classList.add(option.value)}else if(option.task==="class-remove"){me.modal.dom.querySelector(option.selector).classList.remove(option.value)}else{console.warn('No task for: ',index)}}})}
checkifRead(option="a"){if(!(typeof option==='string')){option="a"};if((option==="a"||option==="c")&&!this.loaded.css){console.warn("stylesheet not loaded");return!1}
if((option==="a"||option==="s")&&!this.loaded.js){console.warn("script not loaded");return!1}
if((option==="a"||option==="r")&&(!this.root.dom||!this.isElement(this.root.dom))){console.warn("no root defined");return!1}
if(!($('#'+this.modal.id))){console.warn("no modal defined");return!1}
return!0}
show(options=""){this.modal.jquery.show(options)}
hide(){this.modal.jquery.hide()}
setType(option){this.alertType=option;let removeList=[];let addClass="";if(option==="primary"||option===1){removeList=["alert-secondary","alert-success","alert-danger","alert-warning","alert-info","alert-light","alert-dark"];addClass="alert-primary"}else if(option==="secondary"||option===2){removeList=["alert-primary","alert-success","alert-danger","alert-warning","alert-info","alert-light","alert-dark"];addClass="alert-secondary"}else if(option==="success"||option===3){removeList=["alert-primary","alert-secondary","alert-danger","alert-warning","alert-info","alert-light","alert-dark"];addClass="alert-success"}else if(option==="danger"||option===4){removeList=["alert-primary","alert-secondary","alert-success","alert-warning","alert-info","alert-light","alert-dark"];addClass="alert-danger"}else if(option==="warning"||option===5){removeList=["alert-primary","alert-secondary","alert-success","alert-danger","alert-info","alert-light","alert-dark"];addClass="alert-warning"}else if(option==="info"||option===6){removeList=["alert-primary","alert-secondary","alert-success","alert-danger","alert-warning","alert-light","alert-dark"];addClass="alert-info"}else if(option==="light"||option===7){removeList=["alert-primary","alert-secondary","alert-success","alert-danger","alert-warning","alert-info","alert-dark"];addClass="alert-light"}else if(option==="dark"||option===8){removeList=["alert-primary","alert-secondary","alert-success","alert-danger","alert-warning","alert-info","alert-light"];addClass="alert-dark"}else{removeList=["alert-primary","alert-secondary","alert-success","alert-danger","alert-warning","alert-info","alert-light","alert-dark"]}
let me=this;removeList.forEach(function(c,i){me.modal.dom.classList.remove(c)});if(addClass)this.modal.dom.classList.add(addClass)}
isElement(o){var r=(typeof HTMLElement==="object"?o instanceof HTMLElement:o&&typeof o==="object"&&o!==null&&o.nodeType===1&&typeof o.nodeName==="string");return r}
slideup(options={a:2000,b:500,c:500,d:500}){let me=this;try{this.modal.jquery.fadeTo(options.a,options.b).slideUp(options.c,function(){me.modal.jquery.slideUp(options.d)})}
catch(err){console.warn("err=",err)}}}